<?xml version="1.0" encoding="utf-8"?>
<saw:report xmlns:saw="com.siebel.analytics.web/report/v1.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlVersion="201201160" xmlns:sawx="com.siebel.analytics.web/expression/v1.1"><saw:criteria xsi:type="saw:derivedCriteria" withinHierarchy="true"><saw:columns><saw:column xsi:type="saw:derivedColumn" columnID="cd690365669e6da2e"><saw:displayFormat><saw:formatSpec suppress="suppress" wrapText="true" interaction="action"><saw:dataFormat xsi:type="saw:text" textFormat="html"/><saw:actionLinks showPopupMenuForOneLink="true" appliesToTotal="false"><saw:actionLink actionLinkID="cd690365669e6da2e_alc179a15c59771e08"><saw:action><saw:actionName>Invoke a Browser Script</saw:actionName><saw:parameters allowExtraParameters="true"><saw:parameter name="1" type="string" mandatory="true" removable="true" order="999" multiValues="false"><saw:prompt>variable</saw:prompt><saw:description/></saw:parameter><saw:parameter name="2" type="string" mandatory="true" removable="true" order="999" multiValues="false"><saw:prompt>value</saw:prompt><saw:description/></saw:parameter></saw:parameters><saw:assignments><saw:assign name="1" fixed="false" hidden="false" parentFixed="false" parentHidden="false" xsi:type="saw:stringAssign"><saw:value>PV_KPI_TYPE</saw:value></saw:assign></saw:assignments><saw:implementation xsi:type="saw:ScriptActionType" executeOnClient="true"><saw:functionName>setprompt</saw:functionName><saw:scriptLanguage>JScript</saw:scriptLanguage><saw:scriptPath/></saw:implementation><saw:clientImplementation><saw:customisation invokeConfirmation="false"/></saw:clientImplementation></saw:action><saw:caption><saw:text>setprompt</saw:text></saw:caption><saw:paramMapping><saw:assign xsi:type="saw:anyTypeAssign" name="2" fixed="false" hidden="false"><saw:mapping xsi:type="saw:contextColumnMappingType"><sawx:columnRefExpr columnID="cde454f0936b64877"/></saw:mapping></saw:assign></saw:paramMapping></saw:actionLink></saw:actionLinks></saw:formatSpec></saw:displayFormat><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Label</saw:text></saw:caption><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:columnHeading></saw:column><saw:column xsi:type="saw:derivedColumn" columnID="c976ff2ab80326294"><saw:displayFormat><saw:formatSpec suppress="repeat" wrapText="true" hAlign="center"/><saw:conditionalDisplayFormats><saw:conditionalDisplayFormat><saw:formatRule><saw:condition><sawx:expr xsi:type="sawx:comparison" op="equal"><sawx:expr xsi:type="sawx:columnRefExpr" columnID="c976ff2ab80326294"/><sawx:expr xsi:type="xsd:string">Critical</sawx:expr></sawx:expr></saw:condition><saw:formatSpec image="fmap:meters/status/icons_l/01_alert.png" wrapText="true" imagePlacement="left,imageOnly"/></saw:formatRule></saw:conditionalDisplayFormat><saw:conditionalDisplayFormat><saw:formatRule><saw:condition><sawx:expr xsi:type="sawx:comparison" op="equal"><sawx:expr xsi:type="sawx:columnRefExpr" columnID="c976ff2ab80326294"/><sawx:expr xsi:type="xsd:string">OK</sawx:expr></sawx:expr></saw:condition><saw:formatSpec imagePlacement="left,imageOnly" image="fmap:meters/status/general/checkmark.png" wrapText="true"/></saw:formatRule></saw:conditionalDisplayFormat></saw:conditionalDisplayFormats></saw:displayFormat><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Status</saw:text></saw:caption><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:columnHeading></saw:column><saw:column xsi:type="saw:derivedColumn" columnID="c31ff076444272d2e"><saw:displayFormat><saw:formatSpec suppress="repeat" wrapText="true"><saw:dataFormat xsi:type="saw:number" commas="false" negativeType="minus" minDigits="0" maxDigits="0"/></saw:formatSpec></saw:displayFormat><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Max Days</saw:text></saw:caption><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:columnHeading></saw:column><saw:column xsi:type="saw:derivedColumn" columnID="c9b2ee2f12730fdb0"><saw:displayFormat><saw:formatSpec suppress="suppress" wrapText="true"><saw:dataFormat xsi:type="saw:number" commas="false" negativeType="minus" minDigits="0" maxDigits="0"/></saw:formatSpec></saw:displayFormat><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Target Days</saw:text></saw:caption><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:columnHeading></saw:column><saw:column xsi:type="saw:derivedColumn" columnID="cb21ee96414e249e2"><saw:displayFormat><saw:formatSpec suppress="repeat" wrapText="true"><saw:dataFormat xsi:type="saw:number" commas="false" negativeType="minus" minDigits="0" maxDigits="0"/></saw:formatSpec></saw:displayFormat><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Total Valuations</saw:text></saw:caption><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:columnHeading></saw:column><saw:column xsi:type="saw:derivedColumn" columnID="c3c3ab0f8dbb96699"><saw:displayFormat><saw:formatSpec suppress="repeat" wrapText="true"><saw:dataFormat xsi:type="saw:number" commas="false" negativeType="minus" minDigits="0" maxDigits="0"/></saw:formatSpec></saw:displayFormat><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Failing KPI</saw:text></saw:caption><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:columnHeading></saw:column><saw:column xsi:type="saw:derivedColumn" columnID="cc98e5babf8cf9647"><saw:displayFormat><saw:formatSpec suppress="repeat" wrapText="true"><saw:dataFormat xsi:type="saw:number" commas="false" negativeType="minus" minDigits="0" maxDigits="0"/></saw:formatSpec></saw:displayFormat><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Failing KPI %</saw:text></saw:caption><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:columnHeading></saw:column><saw:column columnID="cde454f0936b64877" xsi:type="saw:derivedColumn"><saw:displayFormat><saw:formatSpec suppress="suppress" wrapText="true"/></saw:displayFormat><saw:tableHeading/><saw:columnHeading><saw:caption fmt="html"><saw:text>Sort</saw:text></saw:caption><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:columnHeading></saw:column></saw:columns><saw:from><saw:criteria xsi:type="saw:setCriteria" op="union"><saw:criteria xsi:type="saw:simpleCriteria" subjectArea="&quot;Valuations&quot;"><saw:columns><saw:column xsi:type="saw:regularColumn" columnID="cd690365669e6da2e"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">&#39;&lt;img src=&quot;../custom_styles/sk_dha/catalog/kpi_ena.png&quot; title=&quot;KPI&quot;&#39;|| CHAR(62) || &#39;  Days for Valuation&#39;</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Label</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c976ff2ab80326294"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">CASE WHEN  MAX(&quot;Dim Valuation&quot;.&quot;Days Overdue&quot;) &gt; VALUEOF(&quot;RV_KPI_VALUER_CRITICAL&quot;) THEN &#39;Critical&#39; ELSE  &#39;OK&#39; END</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Status</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c31ff076444272d2e"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">MAX(CASE WHEN  &quot;Dim Valuation&quot;.&quot;Reason&quot; NOT IN (&#39;ANN&#39;,&#39;AAM&#39;,&#39;FIN&#39;) and &quot;Dim Valuation&quot;.&quot;Valuation Status&quot; IN (&#39;Pending&#39;,&#39;Draft&#39;) then   &quot;Dim Valuation&quot;.&quot;Days Overdue&quot; else 0 end)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Max Days</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c9b2ee2f12730fdb0"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">VALUEOF(&quot;RV_KPI_VALUER_CRITICAL&quot;)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Target Days</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="cb21ee96414e249e2"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">sum(CASE WHEN  &quot;Dim Valuation&quot;.&quot;Reason&quot; NOT IN (&#39;ANN&#39;,&#39;AAM&#39;,&#39;FIN&#39;) and &quot;Dim Valuation&quot;.&quot;Valuation Status&quot; IN (&#39;Pending&#39;,&#39;Draft&#39;) then  1 else 0 end)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Total Valuations</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c3c3ab0f8dbb96699"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">sum(case when  &quot;Dim Valuation&quot;.&quot;Reason&quot; NOT IN (&#39;ANN&#39;,&#39;AAM&#39;,&#39;FIN&#39;) and &quot;Dim Valuation&quot;.&quot;Valuation Status&quot; in (&#39;Pending&#39;,&#39;Draft&#39;) and &quot;Dim Valuation&quot;.&quot;Days Overdue&quot; &gt; VALUEOF(&quot;RV_KPI_VALUER_CRITICAL&quot;) THEN 1 ELSE 0 END)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Failing KPI</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="cc98e5babf8cf9647"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">(sum(case when  &quot;Dim Valuation&quot;.&quot;Reason&quot; NOT IN (&#39;ANN&#39;,&#39;AAM&#39;,&#39;FIN&#39;) and  &quot;Dim Valuation&quot;.&quot;Valuation Status&quot; in (&#39;Pending&#39;,&#39;Draft&#39;) and &quot;Dim Valuation&quot;.&quot;Days Overdue&quot; &gt; VALUEOF(&quot;RV_KPI_VALUER_CRITICAL&quot;) THEN 1.00 ELSE 0 END)/sum(CASE WHEN  &quot;Dim Valuation&quot;.&quot;Reason&quot; NOT IN (&#39;ANN&#39;,&#39;AAM&#39;,&#39;FIN&#39;) and &quot;Dim Valuation&quot;.&quot;Valuation Status&quot; IN (&#39;Pending&#39;,&#39;Draft&#39;) then  1.00 else 0 end))*100</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Failing KPI %</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="cde454f0936b64877"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">1</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Sort</saw:text></saw:caption></saw:columnHeading></saw:column></saw:columns></saw:criteria><saw:criteria xsi:type="saw:simpleCriteria" subjectArea="&quot;Valuations&quot;"><saw:columns><saw:column xsi:type="saw:regularColumn" columnID="c4ca243c07ebb3d14"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">&#39;&lt;img src=&quot;../custom_styles/sk_dha/catalog/kpi_ena.png&quot; title=&quot;KPI&quot;&#39;|| CHAR(62) || &#39;  Days Awaiting Mgr Approval&#39;</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Label</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c94b03ebf930b887b"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">CASE WHEN  MAX(&quot;Dim Valuation&quot;.&quot;Days Overdue&quot;) &gt; VALUEOF(&quot;RV_KPI_MGR_APPROVAL_CRITICAL&quot;) THEN &#39;Critical&#39; ELSE  &#39;OK&#39; END</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Status</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c285c622409730766"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">MAX(case when &quot;Dim Valuation&quot;.&quot;Reason&quot; in  (&#39;DLSE&#39;, &#39;CONV&#39;) OR (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIF&#39;)  THEN &quot;Dim Valuation&quot;.&quot;Days Overdue&quot; ELSE 0 END)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Max Days</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c256cb46ebd4f08e5"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">VALUEOF(&quot;RV_KPI_MGR_APPROVAL_CRITICAL&quot;)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Target Days</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="cb620199c3a9b75a8"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">SUM(case when &quot;Dim Valuation&quot;.&quot;Reason&quot; in  (&#39;DLSE&#39;, &#39;CONV&#39;) OR (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIF&#39;) THEN 1 ELSE 0 END)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Total Valuations</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c389e151a134adcc5"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">sum(CASE WHEN (&quot;Dim Valuation&quot;.&quot;Reason&quot; in  (&#39;DLSE&#39;, &#39;CONV&#39;) OR (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIF&#39;)) and &quot;Dim Valuation&quot;.&quot;Days Overdue&quot; &gt; VALUEOF(&quot;RV_KPI_MGR_APPROVAL_CRITICAL&quot;) then 1 else 0 end)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Failing KPI</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c52efa7992c7996db"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">(sum(CASE WHEN (&quot;Dim Valuation&quot;.&quot;Reason&quot; in  (&#39;DLSE&#39;, &#39;CONV&#39;) OR (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIF&#39;)) and &quot;Dim Valuation&quot;.&quot;Days Overdue&quot; &gt; VALUEOF(&quot;RV_KPI_MGR_APPROVAL_CRITICAL&quot;) then 1.00 else 0 end)/SUM(case when &quot;Dim Valuation&quot;.&quot;Reason&quot; in  (&#39;DLSE&#39;, &#39;CONV&#39;) OR (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIF&#39;) THEN 1.00 ELSE 0 END))*100</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Failing KPI %</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="cc261ea75ba5256c0"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">2</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Sort</saw:text></saw:caption></saw:columnHeading></saw:column></saw:columns><saw:filter><sawx:expr xsi:type="sawx:logical" op="and"><sawx:expr xsi:type="sawx:comparison" op="equal"><sawx:expr xsi:type="sawx:sqlExpression">&quot;Dim Valuation&quot;.&quot;Valuation Status&quot;</sawx:expr><sawx:expr xsi:type="xsd:string">Valuer Approved</sawx:expr></sawx:expr><sawx:expr xsi:type="sawx:sql">&quot;Dim Valuation&quot;.&quot;Reason&quot; in (&#39;DLSE&#39;,&#39;CONV&#39;) or  (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIF&#39;)</sawx:expr></sawx:expr></saw:filter></saw:criteria><saw:criteria xsi:type="saw:simpleCriteria" subjectArea="&quot;Valuations&quot;"><saw:columns><saw:column xsi:type="saw:regularColumn" columnID="cb00a05f87b209174"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">&#39;&lt;img src=&quot;../custom_styles/sk_dha/catalog/kpi_ena.png&quot; title=&quot;KPI&quot;&#39;|| CHAR(62) || &#39;  Days Awaiting HO Approval&#39;</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Label</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c7f57d2493e51cddb"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">CASE WHEN  MAX(&quot;Dim Valuation&quot;.&quot;Days Overdue&quot;) &gt;VALUEOF(&quot;RV_KPI_HO_APPROVAL_CRITICAL&quot;)   THEN &#39;Critical&#39; ELSE  &#39;OK&#39; END</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Status</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c3c226f89517e7572"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">MAX(case when &quot;Dim Valuation&quot;.&quot;Reason&quot; in  (&#39;SLB&#39;,&#39;2REV&#39;,&#39;ACQ&#39;,&#39;DI&#39;) OR (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIS&#39;)  THEN &quot;Dim Valuation&quot;.&quot;Days Overdue&quot; ELSE 0 END)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Max Days</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="ca38eef88a9392640"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">VALUEOF(&quot;RV_KPI_HO_APPROVAL_CRITICAL&quot;)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Target Days</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c4fc43e81e6e3e1b9"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">SUM(case when &quot;Dim Valuation&quot;.&quot;Reason&quot; in  (&#39;SLB&#39;,&#39;2REV&#39;,&#39;ACQ&#39;,&#39;DI&#39;) OR (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIS&#39;) THEN 1 ELSE 0 END)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Total Valuations</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c93ac10320e1de5ce"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">sum(CASE WHEN (&quot;Dim Valuation&quot;.&quot;Reason&quot; in  (&#39;SLB&#39;,&#39;2REV&#39;,&#39;ACQ&#39;,&#39;DI&#39;) OR (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIS&#39;)) and &quot;Dim Valuation&quot;.&quot;Days Overdue&quot; &gt; VALUEOF(&quot;RV_KPI_HO_APPROVAL_CRITICAL&quot;) then 1 else 0 end)</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Failing KPI</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c8ba74ed0fd197fdf"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">(sum(CASE WHEN (&quot;Dim Valuation&quot;.&quot;Reason&quot; in  (&#39;SLB&#39;,&#39;2REV&#39;,&#39;ACQ&#39;,&#39;DI&#39;) OR (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIS&#39;)) and &quot;Dim Valuation&quot;.&quot;Days Overdue&quot; &gt; VALUEOF(&quot;RV_KPI_HO_APPROVAL_CRITICAL&quot;) then 1.00 else 0 end)/SUM(case when &quot;Dim Valuation&quot;.&quot;Reason&quot; in  (&#39;SLB&#39;,&#39;2REV&#39;,&#39;ACQ&#39;,&#39;DI&#39;) OR (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIS&#39;) THEN 1.00 ELSE 0 END))*100</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Failing KPI %</saw:text></saw:caption></saw:columnHeading></saw:column><saw:column xsi:type="saw:regularColumn" columnID="c2924747e65951387"><saw:columnFormula><sawx:expr xsi:type="sawx:sqlExpression">3</sawx:expr></saw:columnFormula><saw:tableHeading/><saw:columnHeading><saw:caption fmt="text"><saw:text>Sort</saw:text></saw:caption></saw:columnHeading></saw:column></saw:columns><saw:filter><sawx:expr xsi:type="sawx:logical" op="and"><sawx:expr xsi:type="sawx:comparison" op="equal"><sawx:expr xsi:type="sawx:sqlExpression">&quot;Dim Valuation&quot;.&quot;Valuation Status&quot;</sawx:expr><sawx:expr xsi:type="xsd:string">Valuer Approved</sawx:expr></sawx:expr><sawx:expr xsi:type="sawx:sql">&quot;Dim Valuation&quot;.&quot;Reason&quot; in (&#39;SLB&#39;,&#39;2REV&#39;,&#39;ACQ&#39;,&#39;DI&#39;) or  (&quot;Dim Valuation&quot;.&quot;Reason&quot; = &#39;CONS&#39; AND &quot;Dim Valuation&quot;.&quot;Type&quot; = &#39;ASIS&#39;)</sawx:expr></sawx:expr></saw:filter></saw:criteria></saw:criteria></saw:from><saw:columnOrder><saw:columnOrderRef columnID="cde454f0936b64877" direction="ascending"/></saw:columnOrder></saw:criteria><saw:views currentView="0"><saw:view xsi:type="saw:compoundView" name="compoundView!1"><saw:cvTable><saw:cvRow><saw:cvCell viewName="titleView!1"><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:cvCell></saw:cvRow><saw:cvRow><saw:cvCell viewName="htmlview!1"/></saw:cvRow><saw:cvRow><saw:cvCell viewName="tableView!1"><saw:displayFormat><saw:formatSpec/></saw:displayFormat></saw:cvCell></saw:cvRow></saw:cvTable></saw:view><saw:view xsi:type="saw:titleView" name="titleView!1"/><saw:view xsi:type="saw:tableView" name="tableView!1" scrollingEnabled="false"><saw:edges><saw:edge axis="page" showColumnHeader="true"/><saw:edge axis="section"/><saw:edge axis="row" showColumnHeader="true"><saw:edgeLayers><saw:edgeLayer type="column" columnID="cd690365669e6da2e"/><saw:edgeLayer type="column" columnID="c976ff2ab80326294"/><saw:edgeLayer type="column" columnID="c31ff076444272d2e"/><saw:edgeLayer type="column" columnID="c9b2ee2f12730fdb0"/><saw:edgeLayer type="column" columnID="cb21ee96414e249e2"/><saw:edgeLayer type="column" columnID="c3c3ab0f8dbb96699"/><saw:edgeLayer type="column" columnID="cc98e5babf8cf9647"/><saw:edgeLayer type="column" columnID="cde454f0936b64877"/></saw:edgeLayers></saw:edge><saw:edge axis="column" showColumnHeader="rollover"/></saw:edges></saw:view><saw:view xsi:type="saw:htmlview" name="htmlview!1"><saw:staticText><saw:caption fmt="html"><saw:text>&lt;script&gt;
/**************************************************************************
* NOTE : All contents of this file are custom built JavaScript utility 
* code that is freely distributed for demonstrative purposes. It is not 
* included and not supported as part of any Oracle Business Intelligence 
* product.
**************************************************************************/

var SAutils = SAutils || {};

SAutils.getxmldoc=function(xmltext){
	if (window.DOMParser) {
		parser=new DOMParser();
		xmlDoc=parser.parseFromString(xmltext,&quot;text/xml&quot;);
	} else {
		xmlDoc=new ActiveXObject(&quot;Microsoft.XMLDOM&quot;);
		xmlDoc.async=false;
		xmlDoc.loadXML(xmltext); 
	}
	return xmlDoc;
}

SAutils.getVarPromptInfo=function(varname){
	collections= gDocPromptManager.getAllPromptCollectionJSON();

	for(i=0;i&lt;collections.length;i++){
		c=collections[i];
		for (j=0;j&lt;c.promptSteps.length;j++){
			pstep=c.promptSteps[j];
			for (k=0;k&lt;pstep.prompts.length;k++){
				p=pstep.prompts[k];
				if(p.promptType==&quot;variablePrompt&quot;){
					if (p.attributes.setVariableName.indexOf(&quot;[&#39;&quot; + varname + &quot;&#39;]&quot;)!=-1)
						return({&quot;caption&quot;:p.caption,&quot;scope&quot;:c.scope,&quot;vsp&quot;:c.viewStatePath,&quot;operator&quot;:p.operator});
				} 
			}
		}
	}
	return null;
}

SAutils.getColPromptInfo=function(formula){
	collections= gDocPromptManager.getAllPromptCollectionJSON();

	for(i=0;i&lt;collections.length;i++){
		c=collections[i];
		for (j=0;j&lt;c.promptSteps.length;j++){
			pstep=c.promptSteps[j];
			for (k=0;k&lt;pstep.prompts.length;k++){
				p=pstep.prompts[k];
				if(p.promptType==&quot;columnFilterPrompt&quot;){
					if (p.dataType.displayColumnFormula==formula)
						return({&quot;caption&quot;:p.caption,&quot;formula&quot;:p.dataType.displayColumnFormula,&quot;vsp&quot;:c.viewStatePath,&quot;operator&quot;:p.operator});
				} 
			}
		}
	}
	return null;
}

SAutils.setColumnPrompt=function(formula,value){
	g_str = &quot;&lt;sawx:expr xmlns:sawx=&#39;com.siebel.analytics.web/expression/v1.1&#39; xsi:type=&#39;sawx:list&#39; op=&#39;_OP_&#39; emptyAsAllChoices=&#39;true&#39; xmlns:xsi=&#39;http://www.w3.org/2001/XMLSchema-instance&#39;&gt;&lt;sawx:expr xsi:type=&#39;sawx:sqlExpression&#39;&gt;_COLFORMULA_&lt;/sawx:expr&gt;&lt;sawx:expr xsi:type=&#39;xsd:string&#39;&gt;_VAL_&lt;/sawx:expr&gt;&lt;/sawx:expr&gt;&quot;;
	pInfo = this.getColPromptInfo(formula);
	g_str = g_str.replace(&#39;_COLFORMULA_&#39;,pInfo.formula).replace(&#39;_VAL_&#39;,value).replace(&#39;_OP_&#39;,pInfo.operator);
	g = this.getxmldoc(g_str);
	PromptManager.submitPrompt(pInfo.vsp, true, &quot;PromptFinish&quot;, g);
}

SAutils.setPSVarPrompt=function(varname,value){
	g_str=&quot;&lt;sawx:expr xmlns:sawx=&#39;com.siebel.analytics.web/expression/v1.1&#39; setVariable=\&quot;dashboard.variables[&#39;_VAR_&#39;]\&quot; xsi:type=&#39;sawx:setVariable&#39; op=&#39;in&#39; emptyAsAllChoices=&#39;false&#39; xmlns:xsi=&#39;http://www.w3.org/2001/XMLSchema-instance&#39;&gt;&lt;sawx:expr xsi:type=&#39;sawx:sqlExpression&#39;/&gt;&lt;sawx:expr xsi:type=&#39;sawx:untypedLiteral&#39;&gt;_VAL_&lt;/sawx:expr&gt;&lt;/sawx:expr&gt;&quot;;
	pInfo = this.getVarPromptInfo(varname);
	g_str = g_str.replace(&#39;_VAR_&#39;,varname).replace(&#39;_VAL_&#39;,value);
	if(pInfo.scope==&#39;dashboardPage&#39;)
		g_str = g_str.replace(&#39;dashboard.variables[&#39;,&#39;dashboard.currentPage.variables[&#39;);
	g= this.getxmldoc(g_str);
	PromptManager.submitPrompt(pInfo.vsp, true, &quot;PromptFinish&quot;, g);
}

SAutils.setRequestVarPrompt=function(varname,value){
	g_str=&quot;&lt;sawx:expr xmlns:sawx=&#39;com.siebel.analytics.web/expression/v1.1&#39; setVariable=\&quot;requestVariables[&#39;_VAR_&#39;]\&quot; xsi:type=&#39;sawx:setVariable&#39; op=&#39;in&#39; emptyAsAllChoices=&#39;false&#39; xmlns:xsi=&#39;http://www.w3.org/2001/XMLSchema-instance&#39;&gt;&lt;sawx:expr xsi:type=&#39;sawx:sqlExpression&#39;/&gt;&lt;sawx:expr xsi:type=&#39;sawx:untypedLiteral&#39;&gt;_VAL_&lt;/sawx:expr&gt;&lt;/sawx:expr&gt;&quot;;
	pInfo = this.getVarPromptInfo(varname);
	g= this.getxmldoc(g_str.replace(&#39;_VAR_&#39;,varname).replace(&#39;_VAL_&#39;,value));
	PromptManager.submitPrompt(pInfo.vsp, true, &quot;PromptFinish&quot;, g);
}

SAutils.subscribetoMDEvent=function(channel,functionhandle,sourceviewname){
	var b = new obips.views.MaterDetailEventListener(channel, new obips.Callback(null, functionhandle));
	b.viewID= sourceviewname;
	obips.views.ViewController.getController(&quot;viewid&quot;).addEventListener(b);
}

SAutils.publishMDEvent=function(channel,values){
	var g_values=&quot;&quot;;
	for (i =0; i&lt; values.length; i= i +2){
		var col = values[i].replace(/&quot;/g,&#39;%22&#39;).replace(/ /g,&#39;%20&#39;);
		var val = values[i+1].replace(/&quot;/g,&#39;%22&#39;).replace(/ /g,&#39;%20&#39;);
		var g = &#39;{&quot;_g&quot;: {&quot;&#39;+ col +&#39;&quot;: [&quot;&#39; + val + &#39;&quot;]}}&#39;;
		g_values += g + &quot;,&quot;; 
	}
	if (g_values.length&gt; 0) 
		g_values = g_values.substring(0,g_values.length-1);
		
	o=&#39;{&quot;_m&quot;:[&#39;+ g_values +&#39;]}&#39;;
    var r = new obips.views.MasterDetailEvent(&quot;viewid&quot;, o);
 	obips.views.ViewController.getController(r.sourceViewID).postClientEvent(channel, r);
}




function setprompt(aParams){
  SAutils.setPSVarPrompt(aParams[&quot;variable&quot;], aParams[&quot;value&quot;]);
}
&lt;/script&gt;</saw:text></saw:caption></saw:staticText></saw:view></saw:views></saw:report>