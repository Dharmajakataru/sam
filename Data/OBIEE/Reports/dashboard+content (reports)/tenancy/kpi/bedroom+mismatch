<?xml version="1.0" encoding="utf-8"?>
<sawkpi:kpi xmlns:sawkpi="com.siebel.analytics.web/kpi/v1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:sawbsc="com.siebel.analytics.web/scorecard/v1" xmlns:sawx="com.siebel.analytics.web/expression/v1.1" xmlns:saw="com.siebel.analytics.web/report/v1.1" subjectArea="&quot;Tenancy&quot;" isTrendEnabled="false" ID="890854d0-0c33-1000-81c6-0a10024f0000" name="Bedroom Mismatch" xmlVersion="201106170">
  <sawkpi:owner id="\45\f3\be\db\77\e5\83\44\bf\78\64\e6\fd\14\34\71"/>
  <sawkpi:relatedDocuments/>
  <sawkpi:dimensions>
    <sawkpi:dimension dimensionID="&quot;Dim Tenancy&quot;.&quot;Housing Solution&quot;">
      <saw:column xsi:type="saw:regularColumn" columnID="cb85a4205a4e42a2b">
        <saw:columnFormula>
          <sawx:expr xsi:type="sawx:sqlExpression">&quot;Dim Tenancy&quot;.&quot;Housing Solution&quot;</sawx:expr>
        </saw:columnFormula>
      </saw:column>
      <sawkpi:pinning>
        <sawx:expr xsi:type="saw:memberExpr">
          <saw:staticMemberGroup>
            <saw:members xsi:type="saw:stringMembers">
              <saw:value>SR</saw:value>
            </saw:members>
          </saw:staticMemberGroup>
        </sawx:expr>
      </sawkpi:pinning>
    </sawkpi:dimension>
    <sawkpi:dimension dimensionID="&quot;Dim Tenancy&quot;.&quot;Management Area&quot;">
      <saw:column xsi:type="saw:regularColumn" columnID="c921db6cce3a4c9f9">
        <saw:columnFormula>
          <sawx:expr xsi:type="sawx:sqlExpression">&quot;Dim Tenancy&quot;.&quot;Management Area&quot;</sawx:expr>
        </saw:columnFormula>
      </saw:column>
    </sawkpi:dimension>
  </sawkpi:dimensions>
  <sawkpi:postUpdateBusinessRules>
    <sawkpi:kpiBusinessRule isDefault="true">
      <sawkpi:businessRule/>
    </sawkpi:kpiBusinessRule>
  </sawkpi:postUpdateBusinessRules>
  <sawkpi:actualValue isWritable="false">
    <saw:column columnID="cfa0e8e39cde25be6" xsi:type="saw:regularColumn">
      <saw:columnFormula>
        <sawx:expr xsi:type="sawx:sqlExpression">max(case when &quot;Dim Tenancy&quot;.&quot;Occupancy Date&quot; &gt;= VALUEOF(&quot;RV_CURRENT_DATE&quot;) then 
ABS( &quot;Dim Tenancy&quot;.&quot;Bedroom Mismatch&quot; )else 0 end)</sawx:expr>
      </saw:columnFormula>
      <saw:displayFormat>
        <saw:formatSpec suppress="repeat" wrapText="true">
          <saw:dataFormat xsi:type="saw:number" commas="true" negativeType="paren" minDigits="0" maxDigits="0"/>
        </saw:formatSpec>
      </saw:displayFormat>
      <saw:tableHeading/>
      <saw:columnHeading/>
    </saw:column>
  </sawkpi:actualValue>
  <sawkpi:targetSets>
    <sawkpi:targetSet isDefault="true" name="Default">
      <sawkpi:targetValue isWritable="false">
        <saw:column columnID="c906ada8987a755de" xsi:type="saw:regularColumn">
          <saw:columnFormula>
            <sawx:expr xsi:type="sawx:sqlExpression">1</sawx:expr>
          </saw:columnFormula>
          <saw:tableHeading/>
          <saw:columnHeading/>
        </saw:column>
      </sawkpi:targetValue>
      <sawkpi:thresholds scoreType="DISCRETE" treatNoDataAs="NOSTATUS" thresholdType="CUSTOMEXPRESSION" goal="low">
        <sawkpi:thresholdRange ID="88f3bb62-0c33-1000-81c6-0a10024f0000" value="100" assessmentStateKey="Critical">
          <sawkpi:statusText>
            <saw:caption>
              <saw:text>Critical</saw:text>
            </saw:caption>
          </sawkpi:statusText>
          <sawkpi:actionLinks>
            <saw:actionLink>
              <saw:action>
                <saw:actionName>Navigate - @[biserver]</saw:actionName>
                <saw:parameters allowExtraParameters="true">
                  <saw:parameter name="2" type="string" mandatory="true" removable="true" order="0" multiValues="false">
                    <saw:prompt>Action</saw:prompt>
                    <saw:description/>
                  </saw:parameter>
                  <saw:parameter name="3" type="string" mandatory="true" removable="true" order="1" multiValues="false">
                    <saw:prompt>path</saw:prompt>
                    <saw:description/>
                  </saw:parameter>
                </saw:parameters>
                <saw:assignments>
                  <saw:assign name="2" fixed="true" hidden="true" parentFixed="false" parentHidden="false" xsi:type="saw:stringAssign">
                    <saw:value>prompt</saw:value>
                  </saw:assign>
                  <saw:assign name="3" fixed="true" hidden="true" parentFixed="false" parentHidden="false" xsi:type="saw:stringAssign">
                    <saw:value>/shared/Components/Dashboard Content/Tenancy/KPI/KPI_Bedroom Mismatch Report</saw:value>
                  </saw:assign>
                </saw:assignments>
                <saw:implementation xsi:type="saw:URLActionType" executeOnClient="true">
                  <saw:url aliasedLocation="true">@[biserver]?PortalGo&amp;Action=@{2}&amp;path=@{3}</saw:url>
                  <saw:request>GET</saw:request>
                </saw:implementation>
                <saw:clientImplementation>
                  <saw:customisation invokeConfirmation="false" openNewWindow="true"/>
                </saw:clientImplementation>
              </saw:action>
              <saw:caption>
                <saw:text>Bedroom Mismatch Report</saw:text>
              </saw:caption>
            </saw:actionLink>
          </sawkpi:actionLinks>
          <sawkpi:rangeExpression>
            <sawx:expr xsi:type="sawx:comparison" op="greater">
              <sawx:expr xsi:type="sawkpi:kpiSpecExpr" valueType="actualVal"/>
              <sawx:expr xsi:type="sawx:sqlExpression">1</sawx:expr>
            </sawx:expr>
          </sawkpi:rangeExpression>
          <sawkpi:iconScheme color="red" icon="fmap:meters/status/icons_l/01_alert.png"/>
        </sawkpi:thresholdRange>
        <sawkpi:thresholdRange ID="88f3bb61-0c33-1000-81c6-0a10024f0000" value="50" assessmentStateKey="Warning">
          <sawkpi:statusText>
            <saw:caption>
              <saw:text>Warning</saw:text>
            </saw:caption>
          </sawkpi:statusText>
          <sawkpi:actionLinks>
            <saw:actionLink>
              <saw:action>
                <saw:actionName>Navigate - @[biserver]</saw:actionName>
                <saw:parameters allowExtraParameters="true">
                  <saw:parameter name="2" type="string" mandatory="true" removable="true" order="0" multiValues="false">
                    <saw:prompt>Action</saw:prompt>
                    <saw:description/>
                  </saw:parameter>
                  <saw:parameter name="3" type="string" mandatory="true" removable="true" order="1" multiValues="false">
                    <saw:prompt>path</saw:prompt>
                    <saw:description/>
                  </saw:parameter>
                </saw:parameters>
                <saw:assignments>
                  <saw:assign name="2" fixed="true" hidden="true" parentFixed="false" parentHidden="false" xsi:type="saw:stringAssign">
                    <saw:value>prompt</saw:value>
                  </saw:assign>
                  <saw:assign name="3" fixed="true" hidden="true" parentFixed="false" parentHidden="false" xsi:type="saw:stringAssign">
                    <saw:value>/shared/Components/Dashboard Content/Tenancy/KPI/KPI_Bedroom Mismatch Report</saw:value>
                  </saw:assign>
                </saw:assignments>
                <saw:implementation xsi:type="saw:URLActionType" executeOnClient="true">
                  <saw:url aliasedLocation="true">@[biserver]?PortalGo&amp;Action=@{2}&amp;path=@{3}</saw:url>
                  <saw:request>GET</saw:request>
                </saw:implementation>
                <saw:clientImplementation>
                  <saw:customisation invokeConfirmation="false" openNewWindow="true"/>
                </saw:clientImplementation>
              </saw:action>
              <saw:caption>
                <saw:text>Bedroom Mismatch Report</saw:text>
              </saw:caption>
            </saw:actionLink>
          </sawkpi:actionLinks>
          <sawkpi:rangeExpression>
            <sawx:expr xsi:type="sawx:comparison" op="greater">
              <sawx:expr xsi:type="sawkpi:kpiSpecExpr" valueType="actualVal"/>
              <sawx:expr xsi:type="sawx:sqlExpression">0</sawx:expr>
            </sawx:expr>
          </sawkpi:rangeExpression>
          <sawkpi:iconScheme color="#FFFF00" icon="fmap:meters/status/icons_l/02_warning.png"/>
        </sawkpi:thresholdRange>
        <sawkpi:thresholdRange ID="88f3bb60-0c33-1000-81c6-0a10024f0000" value="0" assessmentStateKey="OK">
          <sawkpi:statusText>
            <saw:caption>
              <saw:text>OK</saw:text>
            </saw:caption>
          </sawkpi:statusText>
          <sawkpi:actionLinks>
            <saw:actionLink>
              <saw:action>
                <saw:actionName>Navigate - @[biserver]</saw:actionName>
                <saw:parameters allowExtraParameters="true">
                  <saw:parameter name="2" type="string" mandatory="true" removable="true" order="0" multiValues="false">
                    <saw:prompt>Action</saw:prompt>
                    <saw:description/>
                  </saw:parameter>
                  <saw:parameter name="3" type="string" mandatory="true" removable="true" order="1" multiValues="false">
                    <saw:prompt>path</saw:prompt>
                    <saw:description/>
                  </saw:parameter>
                </saw:parameters>
                <saw:assignments>
                  <saw:assign name="2" fixed="true" hidden="true" parentFixed="false" parentHidden="false" xsi:type="saw:stringAssign">
                    <saw:value>prompt</saw:value>
                  </saw:assign>
                  <saw:assign name="3" fixed="true" hidden="true" parentFixed="false" parentHidden="false" xsi:type="saw:stringAssign">
                    <saw:value>/shared/Components/Dashboard Content/Tenancy/KPI/KPI_Bedroom Mismatch Report</saw:value>
                  </saw:assign>
                </saw:assignments>
                <saw:implementation xsi:type="saw:URLActionType" executeOnClient="true">
                  <saw:url aliasedLocation="true">@[biserver]?PortalGo&amp;Action=@{2}&amp;path=@{3}</saw:url>
                  <saw:request>GET</saw:request>
                </saw:implementation>
                <saw:clientImplementation>
                  <saw:customisation invokeConfirmation="false" openNewWindow="true"/>
                </saw:clientImplementation>
              </saw:action>
              <saw:caption>
                <saw:text>Bedroom Mismatch Report</saw:text>
              </saw:caption>
            </saw:actionLink>
          </sawkpi:actionLinks>
          <sawkpi:rangeExpression>
            <sawx:expr xsi:type="sawx:comparison" op="lessOrEqual">
              <sawx:expr xsi:type="sawkpi:kpiSpecExpr" valueType="actualVal"/>
              <sawx:expr xsi:type="sawx:sqlExpression">0</sawx:expr>
            </sawx:expr>
          </sawkpi:rangeExpression>
          <sawkpi:iconScheme color="green" icon="fmap:meters/status/general/checkmark.png"/>
        </sawkpi:thresholdRange>
      </sawkpi:thresholds>
    </sawkpi:targetSet>
  </sawkpi:targetSets>
  <sawkpi:customColumns>
    <saw:column xsi:type="saw:regularColumn" columnID="cbb3d8fc5fe23d9b0">
      <saw:columnFormula>
        <sawx:expr xsi:type="sawx:sqlExpression">avg(case when &quot;Dim Tenancy&quot;.&quot;Occupancy Date&quot; &gt;= VALUEOF(&quot;RV_CURRENT_DATE&quot;) 
and &quot;Dim Tenancy&quot;.&quot;Housing Solution&quot; = &#39;SR&#39;
then ABS( &quot;Dim Tenancy&quot;.&quot;Bedroom Mismatch&quot; )else null end)</sawx:expr>
      </saw:columnFormula>
      <saw:columnHeading>
        <saw:caption>
          <saw:text>Average Mismatch</saw:text>
        </saw:caption>
      </saw:columnHeading>
    </saw:column>
    <saw:column xsi:type="saw:regularColumn" columnID="ca086d716d7aab836">
      <saw:columnFormula>
        <sawx:expr xsi:type="sawx:sqlExpression">count(case when &quot;Dim Tenancy&quot;.&quot;Occupancy Date&quot; &gt;= VALUEOF(&quot;RV_CURRENT_DATE&quot;) 
and &quot;Dim Tenancy&quot;.&quot;Housing Solution&quot; = &#39;SR&#39;
then &quot;Dim Tenancy&quot;.&quot;UPRN&quot;else null end)</sawx:expr>
      </saw:columnFormula>
      <saw:columnHeading>
        <saw:caption>
          <saw:text>Total Properties</saw:text>
        </saw:caption>
      </saw:columnHeading>
    </saw:column>
    <saw:column xsi:type="saw:regularColumn" columnID="cb980db61633d77bb">
      <saw:columnFormula>
        <sawx:expr xsi:type="sawx:sqlExpression">sum( case when &quot;Dim Tenancy&quot;.&quot;Occupancy Date&quot;  &gt;= VALUEOF(&quot;RV_CURRENT_DATE&quot;) and (ABS(&quot;Dim Tenancy&quot;.&quot;Bedroom Mismatch&quot; )) &gt; 1 then 1 else 0 end)</sawx:expr>
      </saw:columnFormula>
      <saw:columnHeading>
        <saw:caption>
          <saw:text>Failing KPI</saw:text>
        </saw:caption>
      </saw:columnHeading>
    </saw:column>
  </sawkpi:customColumns>
</sawkpi:kpi>